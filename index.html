<!doctype html>
<html lang="vi">
<head>
<meta charset="utf-8" />
<meta name="viewport" content="width=device-width,initial-scale=1" />
<title>L√° th∆∞ 20/10</title>
<link href="https://fonts.googleapis.com/css2?family=Great+Vibes&family=Inter:wght@300;400;600&display=swap" rel="stylesheet">
<style>
  :root{
    --bg:#fff7f9;
    --accent:#ff6b9a;
    --muted:#6b6b6b;
  }
  html,body{height:100%;margin:0;font-family:Inter,system-ui,-apple-system,Segoe UI,Roboto,"Helvetica Neue",Arial}
  body{
    background: radial-gradient(circle at 10% 10%, #fff1f5 0%, var(--bg) 40%) fixed;
    display:flex;align-items:center;justify-content:center;padding:24px;
  }

  .card{
    width:100%;max-width:760px;background:linear-gradient(180deg,rgba(255,255,255,0.9),rgba(255,250,252,0.95));
    border-radius:20px;box-shadow:0 10px 30px rgba(0,0,0,0.08);overflow:hidden;position:relative;padding:28px;
    border:1px solid rgba(255,107,154,0.08)
  }

  header{display:flex;gap:12px;align-items:center;margin-bottom:6px}
  .logo{
    width:68px;height:68px;border-radius:14px;background:linear-gradient(135deg,#ffd1e0,#ffc0d6);
    display:flex;align-items:center;justify-content:center;font-family:Great Vibes;font-size:24px;color:#8c2b47;box-shadow:0 6px 18px rgba(252,120,150,0.12)
  }
  h1{font-family:Great Vibes;font-size:36px;margin:0;color:#8c2b47}
  p.meta{margin:6px 0 20px;color:var(--muted);font-size:14px}

  .letter{
    background:linear-gradient(180deg,rgba(255,255,255,0.8),rgba(255,255,255,0.6));
    border-radius:12px;padding:20px;min-height:220px;position:relative;border:1px dashed rgba(255,107,154,0.12);
    font-size:16px;line-height:1.7;color:#333;overflow:hidden;
  }

  .typewriter {
    white-space:pre-wrap;
    font-size:18px;
  }
  .controls{display:flex;gap:8px;margin-top:16px;align-items:center}
  button.btn{
    background:linear-gradient(180deg,var(--accent),#ff4f82);border:0;color:white;padding:10px 14px;border-radius:12px;font-weight:600;
    box-shadow:0 6px 18px rgba(255,107,154,0.18);cursor:pointer;
  }
  button.btn.ghost{background:transparent;color:var(--accent);border:1px solid rgba(255,107,154,0.12);box-shadow:none}

  /* floating hearts */
  .heart{
    position:absolute;left:50%;top:-20px;width:24px;height:24px;opacity:0.9;transform:translateX(-50%);
    animation:float 6s linear infinite;
  }
  @keyframes float{
    0%{transform:translateX(-50%) translateY(0) scale(0.9);opacity:0.8}
    50%{transform:translateX(calc(-50% + 40px)) translateY(70px) scale(1.1);opacity:1}
    100%{transform:translateX(calc(-50% - 40px)) translateY(180px) scale(0.8);opacity:0}
  }

  /* confetti canvas sized */
  #confetti-canvas{position:absolute;inset:0;pointer-events:none}

  /* falling petals */
  .petal{
    position:absolute;width:14px;height:14px;background:linear-gradient(135deg,#ffd8e6,#fff0f6);border-radius:50%;
    box-shadow:0 2px 6px rgba(0,0,0,0.08);opacity:0.9;
    animation:fall linear infinite;
  }
  @keyframes fall{
0%{transform:translateY(-10vh) rotate(0deg)}
    100%{transform:translateY(110vh) rotate(360deg)}
  }

  footer.note{margin-top:18px;color:var(--muted);font-size:13px;text-align:right}
  /* sparkle effect */
  .sparkle{position:relative;display:inline-block}
  .sparkle::after{
    content:"";position:absolute;left:50%;top:30%;width:6px;height:6px;border-radius:50%;
    background:linear-gradient(45deg,#fff6a8,#ffd1e0);opacity:0;transform:translate(-50%,-50%) scale(0.5);
    animation:twinkle 2.2s infinite;
  }
  @keyframes twinkle{0%{opacity:0}50%{opacity:1;transform:translate(-50%,-50%) scale(1.2)}100%{opacity:0}}
  /* responsive */
  @media (max-width:460px){h1{font-size:28px}.logo{width:56px;height:56px;font-size:20px}}
  /* ==== Hoa m·ªü ƒë·∫ßu ==== */
#flower-screen {
  position: fixed;
  inset: 0;
  background: radial-gradient(circle at 50% 50%, #ffe5ef, #fff7f9);
  display: flex;
  flex-direction: column;
  align-items: center;
  justify-content: center;
  z-index: 999; /* n·∫±m tr√™n h·∫øt */
  transition: opacity 1s ease;
}

#flower-screen.hidden {
  opacity: 0;
  pointer-events: none;
}

/* B√¥ng hoa ƒë∆°n gi·∫£n xoay nh·∫π */
.flower {
  width: 120px;
  height: 120px;
  background: radial-gradient(circle at 50% 50%, #ff9cb6, #ff6b9a 70%);
  border-radius: 50%;
  box-shadow: 0 0 30px rgba(255,107,154,0.4);
  position: relative;
  animation: rotateFlower 6s linear infinite;
  cursor: pointer;
}

.flower::before, .flower::after {
  content: "";
  position: absolute;
  width: 100%;
  height: 100%;
  border-radius: 50%;
  background: radial-gradient(circle at 50% 50%, #ffc0cb, #ff8fa3 80%);
  opacity: 0.6;
}

.flower::before { transform: rotate(45deg); }
.flower::after { transform: rotate(90deg); }

@keyframes rotateFlower {
  from { transform: rotate(0deg) scale(1); }
  to { transform: rotate(360deg) scale(1); }
}

.hint {
  font-family: 'Great Vibes', cursive;
  color: #b04b6b;
  font-size: 22px;
  margin-top: 20px;
  animation: pulseText 2s ease-in-out infinite;
}

@keyframes pulseText {
  0%,100% { opacity: 0.6; transform: scale(1); }
  50% { opacity: 1; transform: scale(1.08); }
}

/* ·∫®n ph·∫ßn l√° th∆∞ ban ƒë·∫ßu */
.card {
  opacity: 0;
  transform: scale(0.9);
  transition: opacity 1s ease, transform 1s ease;
}
.card.show {
  opacity: 1;
  transform: scale(1);
}

</style>
</head>
<body>
    <!-- Hi·ªáu ·ª©ng b√¥ng hoa m·ªü ƒë·∫ßu -->
<div id="flower-screen">
  <div class="flower"></div>
  <p class="hint">Nh·∫•n v√†o b√¥ng hoa ƒë·ªÉ m·ªü th∆∞ üíñ</p>
</div>

<div class="card" role="main" aria-label="L√° th∆∞ 20/10">
  <canvas id="confetti-canvas"></canvas>
  <div class="heart" id="heart-svg" aria-hidden="true">
    <!-- tiny heart svg -->
    <svg width="24" height="24" viewBox="0 0 24 24"><path fill="#ff6b9a" d="M12 21s-7.5-4.9-9.2-7.1C1.4 11.9 3 7.7 6 6c1.8-1.1 4.4-0.5 5.9 1 1.5-1.5 4.1-2.1 5.9-1C21 7.7 22.6 11.9 21.2 13.9 19.5 16.1 12 21 12 21z"/></svg>
  </div>

  <header>
    <div class="logo">20/10</div>
    <div>
      <h1 class="sparkle">G·ª≠i ch·ªã Th∆∞ - C√¥ g√°i d·ªÖ th∆∞∆°ng.</h1>
      <p class="meta">M·ªôt l√° th∆∞ nh·ªè c·ªßa em nh√¢n ng√†y 20/10.</p>
    </div>
  </header>

  <section class="letter" id="letter">
    <div class="typewriter" id="typewriter"></div>
  </section>

  <div class="controls">
    <button class="btn" id="replay">Ch·∫°y l·∫°i hi·ªáu ·ª©ng</button>
    <button class="btn ghost" id="musicToggle"></button>
  </div>

  <footer class="note">Ch√∫c m·ª´ng 20/10 ‚Äî t·ª´ <strong>T</strong></footer>
</div>

<!-- Optional small audio (replace src with your file if hosting) -->
<audio id="bgm" loop preload="none">
  <source src="1019(1).MP3" type="audio/mpeg">
</audio>

<script>
/* ============= typewriter text ============= */
const text = `G·ª≠i ch·ªã Th∆∞ th√¢n m·∫øn,\n\nCh√∫c ch·ªã m·ªôt ng√†y 20/10 th·∫≠t vui, th·∫≠t nh·∫π nh√†ng v√† tr√†n ƒë·∫ßy nƒÉng l∆∞·ª£ng nha üå∑

Em kh√¥ng bi·∫øt ch·ªã c√≥ b·∫≠n hay kh√¥ng, nh∆∞ng em v·∫´n mu·ªën d√†nh √≠t ph√∫t ƒë·ªÉ vi·∫øt v√†i d√≤ng n√†y ‚Äì ƒë∆°n gi·∫£n v√¨ em th·∫•y ch·ªã x·ª©ng ƒë√°ng ƒë∆∞·ª£c nh·∫≠n nh·ªØng l·ªùi ch√∫c t·ªët ƒë·∫πp nh·∫•t h√¥m nay.

C·∫£m ∆°n ch·ªã v√¨ th·ªùi gian qua v·∫´n lu√¥n l√† m·ªôt ng∆∞·ªùi d·ªÖ th∆∞∆°ng, g·∫ßn g≈©i v√† ch√¢n th√†nh. C√≥ nh·ªØng l√∫c n√≥i chuy·ªán v·ªõi ch·ªã, em c·∫£m th·∫•y cu·ªôc s·ªëng m√¨nh nh·∫π nh√†ng v√† vui h∆°n nhi·ªÅu.

Em ch√∫c ch·ªã lu√¥n m·∫°nh m·∫Ω, lu√¥n gi·ªØ ƒë∆∞·ª£c n·ª• c∆∞·ªùi t∆∞∆°i nh∆∞ m·ªçi khi, v√† d√π cu·ªôc s·ªëng c√≥ b·∫≠n r·ªôn hay m·ªát m·ªèi th√¨ v·∫´n lu√¥n c√≥ nh·ªØng ƒëi·ªÅu nh·ªè b√© khi·∫øn ch·ªã th·∫•y ·∫•m l√≤ng.

Mong r·∫±ng ch·ªã lu√¥n g·∫∑p ƒëi·ªÅu may m·∫Øn, h·ªçc t·∫≠p su√¥n s·∫ª, l√†m ƒëi·ªÅu g√¨ c≈©ng thu·∫≠n l·ª£i.

C√≤n v·ªÅ ph·∫ßn em, em v·∫´n nh∆∞ c≈© ‚Äî v·∫´n lu√¥n mong ch·ªã h·∫°nh ph√∫c, d√π l√† trong nh·ªØng ƒëi·ªÅu nh·ªè nh·∫•t üåº

Ch√∫c ch·ªã 20/10 th·∫≠t xinh ƒë·∫πp v√† b√¨nh y√™n.`;

const tw = document.getElementById('typewriter');
let i = 0;
function typeStep(){
  if(i <= text.length){
    tw.textContent = text.slice(0,i);
    i++;
    setTimeout(typeStep, 28 + Math.random()*40);
  }
}
typeStep();

/* ============= confetti ============= */
const canvas = document.getElementById('confetti-canvas');
const ctx = canvas.getContext('2d');
let W = canvas.width = window.innerWidth;
let H = canvas.height = window.innerHeight;
window.addEventListener('resize',()=>{W=canvas.width=window.innerWidth;H=canvas.height=window.innerHeight;});
const pieces = [];
const colors = ['#FFD1E3','#FFB3C6','#FFC9E3','#FFF1F7','#FFDCE6'];
function spawnConfetti(n=80){
  pieces.length=0;
  for(let i=0;i<n;i++){
    pieces.push({
      x:Math.random()*W,
      y:Math.random()*-H*0.2,
      r:Math.random()*6+4,
      d:Math.random()*60+10,
      tilt:Math.random()*10,
      color:colors[Math.floor(Math.random()*colors.length)],
      speedY:2+Math.random()*4
    });
  }
}
function updateConfetti(){
  ctx.clearRect(0,0,W,H);
  for(let p of pieces){
    p.y += p.speedY;
    p.x += Math.sin(p.y/30)*1.5;
    p.tilt += 0.05;
    ctx.save();
    ctx.translate(p.x,p.y);
    ctx.rotate(p.tilt*0.02);
    ctx.fillStyle = p.color;
    ctx.fillRect(-p.r/2,-p.r/2,p.r,p.r*0.6);
    ctx.restore();
    if(p.y > H+20){
      p.y = -20; p.x = Math.random()*W;
    }
  }
  requestAnimationFrame(updateConfetti);
}
spawnConfetti(80);
updateConfetti();

/* ============= petals ============= */
function createPetals(n=12){
  for(let k=0;k<n;k++){
    const p = document.createElement('div');
    p.className='petal';
    p.style.left = Math.random()*100 + '%';
    p.style.top = Math.random()*-30 + 'vh';
    p.style.width = (8+Math.random()*16)+'px';
    p.style.height = (8+Math.random()*16)+'px';
    p.style.opacity = 0.6+Math.random()*0.6;
    p.style.animationDuration = 6+Math.random()*6+'s';
    p.style.transform = `rotate(${Math.random()*360}deg)`;
    document.body.appendChild(p);
    setTimeout(()=>p.remove(),16000);
  }
}
createPetals(14);
setInterval(()=>createPetals(6),6000);

/* ============= small heart pop ============= */
const heart = document.getElementById('heart-svg');
(function pulse(){
  heart.animate([{transform:'translateX(-50%) scale(0.9)'},{transform:'translateX(-50%) scale(1.08)'},{transform:'translateX(-50%) scale(0.95)'}],{duration:1800,iterations:Infinity});
})();

/* ============= controls ============= */
const replay = document.getElementById('replay');
replay.addEventListener('click',()=>{
  // restart typewriter
  i=0; tw.textContent='';
  typeStep();
  spawnConfetti(120);
});

const bgm = document.getElementById('bgm');
const musicToggle = document.getElementById('musicToggle');
let musicOn = false;
musicToggle.addEventListener('click',async ()=>{
  if(!musicOn){
    try{ await bgm.play(); }catch(e){ /* autoplay blocked; user clicked so should be fine */ }
    musicToggle.textContent='T·∫Øt nh·∫°c';
  } else {
    bgm.pause();
    musicToggle.textContent='Ph√°t nh·∫°c nh·∫π';
  }
  musicOn = !musicOn;
});

/* ============= accessibility: allow keyboard replay ============= */
document.addEventListener('keydown',(e)=>{ if(e.key==='r' || e.key==='R') replay.click(); });
/* ============= Hoa m·ªü ƒë·∫ßu ============= */
const flowerScreen = document.getElementById('flower-screen');
const flower = flowerScreen.querySelector('.flower');
const card = document.querySelector('.card');

flower.addEventListener('click', () => {
  flowerScreen.classList.add('hidden');
  const bgm = document.getElementById('bgm'); // l·∫•y nh·∫°c ƒë√£ c√≥ s·∫µn trong code
  try { bgm.play(); } catch(e) { console.warn('Autoplay blocked'); } // b·∫≠t nh·∫°c lu√¥n
  
  setTimeout(() => {
    flowerScreen.style.display = 'none';
    card.classList.add('show');
    replay.click();
  }, 1000);
});

</script>
</body>
</html>